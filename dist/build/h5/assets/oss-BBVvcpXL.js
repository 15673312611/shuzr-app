import{s as c}from"./request-CIZjav-Z.js";async function i(t,r="uploads"){return await c.get("/api/oss/presigned-url",{params:{fileName:t,directory:r}})}async function u(t,r){const e=await i(t.name,r),s=new FormData;Object.entries(e).forEach(([o,n])=>{o!=="resourceUrl"&&s.append(o,n)}),s.append("file",t);const a=await fetch(e.host,{method:"POST",body:s});if(!a.ok){const o=await a.text().catch(()=>"");throw new Error(`OSS 上传失败：${a.status} ${o}`)}return e.resourceUrl}export{u};
