import{_ as V,a as i,o as T,c as w,b as s,g as m,t as x,w as H,v as L,u as P,p as R,k as A,l as v}from"./index-DDlqzt3H.js";import{u as C}from"./services-GkRl5Aq9.js";import"./request-CIZjav-Z.js";const e=n=>(R("data-v-93ce1518"),n=n(),A(),n),D={class:"page-container"},U=e(()=>s("view",{class:"bg-elements"},[s("view",{class:"bg-gradient"}),s("view",{class:"bg-circle circle1"}),s("view",{class:"bg-circle circle2"})],-1)),N={class:"content-wrapper"},E={class:"user-info-section"},F={class:"user-card"},W=e(()=>s("view",{class:"user-card-bg-pattern"},null,-1)),$={class:"user-card-content"},j=e(()=>s("view",{class:"avatar-glow"},null,-1)),q=e(()=>s("view",{class:"user-icon"},[s("svg",{t:"1690426362582",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2358",width:"36",height:"36"},[s("path",{d:"M512 512a204.8 204.8 0 1 0 0-409.6 204.8 204.8 0 0 0 0 409.6z m0 102.4c-188.16 0-341.76 146.688-354.56 332.8a30.208 30.208 0 0 0 8.704 22.016 30.72 30.72 0 0 0 22.016 9.984h647.68a30.72 30.72 0 0 0 22.016-9.984 30.208 30.208 0 0 0 8.704-22.016c-12.8-186.112-166.4-332.8-354.56-332.8z","p-id":"2359"})])],-1)),G=[j,q],J={class:"user-details"},K={class:"user-account"},O=e(()=>s("view",{class:"user-card-light"},null,-1)),Q={class:"assets-section"},X={class:"assets-grid"},Y={class:"power-card"},Z={class:"power-container"},ss=e(()=>s("view",{class:"power-left"},[s("view",{class:"power-icon-wrapper"},[s("view",{class:"power-icon-bg"}),s("svg",{t:"1690433433130",class:"power-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3541",width:"32",height:"32"},[s("path",{d:"M915.2 561.066667c-8.533333-19.2-29.866667-29.866667-51.2-25.6l-234.666667 42.666666 42.666667-384c2.133333-19.2-6.4-38.4-21.333333-49.066666-17.066667-10.666667-38.4-10.666667-53.333334 4.266666l-384 320c-14.933333 12.8-21.333333 34.133333-14.933333 53.333334 8.533333 19.2 29.866667 29.866667 51.2 25.6l234.666667-42.666667-42.666667 384c-2.133333 19.2 6.4 38.4 21.333333 49.066667 6.4 4.266667 14.933333 6.4 23.466667 6.4 10.666667 0 21.333333-4.266667 29.866667-10.666667l384-320c14.933333-12.8 21.333333-34.133333 14.933333-53.333333z",fill:"#64B5F6","p-id":"3542"})])]),s("text",{class:"power-label"},"算力余额")],-1)),es={class:"power-right"},ts={class:"power-value"},os=e(()=>s("svg",{t:"1690433597495",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4638",width:"18",height:"18"},[s("path",{d:"M866.133333 512c0 195.157333-158.208 353.365333-353.365333 353.365333-130.56 0-244.906667-70.826667-306.389333-176.256l63.957333-36.949333c49.962667 86.357333 143.530667 144.213333 242.432 144.213333 159.146667 0 288.384-129.28 288.384-288.384a64.981333 64.981333 0 0 0-130.005333 0 159.018667 159.018667 0 0 1-158.378667 158.378667 159.061333 159.061333 0 0 1-158.421333-158.378667 159.061333 159.061333 0 0 1 158.421333-158.378667c26.538667 0 51.84 5.504 74.794667 15.445334l-32 55.424 144.810666 83.626666-15.36-167.594666-31.445333 54.442666A223.317333 223.317333 0 0 0 512 288.682667c-123.136 0-223.36 100.224-223.36 223.36 0 123.136 100.224 223.36 223.36 223.36 123.157333 0 223.36-100.224 223.36-223.36a129.962667 129.962667 0 0 1 130.773333-130.005334c71.957333 0 130.005333 57.109333 130.005334 130.005334z","p-id":"4639"})],-1)),cs=[os],is=e(()=>s("view",{class:"section-title"},[s("text",null,"个人中心")],-1)),ns=e(()=>s("view",{class:"menu-icon recharge-icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})])],-1)),ls=e(()=>s("text",{class:"menu-label"},"充值",-1)),as=[ns,ls],rs=e(()=>s("view",{class:"menu-icon invite-icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"})])],-1)),hs=e(()=>s("text",{class:"menu-label"},"邀请有礼",-1)),ds=[rs,hs],ws=e(()=>s("view",{class:"menu-icon tutorial-icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"})])],-1)),vs=e(()=>s("text",{class:"menu-label"},"新手教程",-1)),us=[ws,vs],_s=e(()=>s("view",{class:"menu-icon support-icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"})])],-1)),ps=e(()=>s("text",{class:"menu-label"},"联系客服",-1)),gs=[_s,ps],ms=e(()=>s("view",{class:"menu-icon about-icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"})])],-1)),xs=e(()=>s("text",{class:"menu-label"},"关于我们",-1)),Cs=[ms,xs],fs=e(()=>s("text",null,"退出登录",-1)),bs=[fs],ks={key:0,class:"modal"},zs={class:"modal-content"},ys=e(()=>s("text",{class:"modal-title"},"充值",-1)),Ms=e(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)),Is=[Ms],Bs={class:"modal-body"},Ss={class:"input-field"},Vs=e(()=>s("text",{class:"input-label"},"卡密",-1)),Ts=e(()=>s("text",null,"确认充值",-1)),Hs=[Ts],Ls={key:1,class:"modal"},Ps=e(()=>s("text",{class:"modal-title"},"联系客服",-1)),Rs=e(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24"},[s("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)),As=[Rs],Ds=e(()=>s("view",{class:"service-info"},[s("text",{class:"service-title"},"客服微信"),s("text",{class:"service-value"},"soe303")],-1)),Us=e(()=>s("text",null,"复制微信号",-1)),Ns=[Us],Es={__name:"index",setup(n){const c=P(),a=i({username:""}),u=i({computePower:0}),r=i(!1),h=i(!1),l=i(""),_=async()=>{try{if(!localStorage.getItem("userId")){c.push("/pages/login/index");return}const t=await C.getUserInfo();console.log("用户信息响应:",t),a.value.username=t.username||"",u.value.computePower=t.power||0,a.value.inviteCode=t.inviteCode||""}catch(o){console.error("获取用户信息失败:",o)}},f=()=>{window.location.reload()},b=()=>{c.push("/pages/my/invite")},k=()=>{c.push("/pages/my/tutorial")},z=()=>{c.push("/pages/my/about")},y=()=>{r.value=!0},d=()=>{r.value=!1,l.value=""},M=async()=>{if(!l.value){uni.showToast({title:"请输入卡密",icon:"none"});return}try{uni.showLoading({title:"充值中..."}),setTimeout(()=>{uni.hideLoading(),uni.showToast({title:"充值成功",icon:"success"}),d(),_()},1500)}catch{uni.hideLoading(),uni.showToast({title:"充值失败",icon:"none"})}},I=()=>{h.value=!0},p=()=>{h.value=!1},B=()=>{uni.setClipboardData({data:"soe303",success:()=>{uni.showToast({title:"微信号已复制",icon:"success"})}})},S=async()=>{try{await C.logout(),localStorage.removeItem("token"),localStorage.removeItem("userId"),c.push("/pages/login/index")}catch(o){console.error("退出登录失败:",o)}};return T(()=>{_()}),(o,t)=>(v(),w("view",D,[U,s("view",N,[s("view",E,[s("view",F,[W,s("view",$,[s("view",{class:"user-avatar-container",onClick:t[0]||(t[0]=g=>o.showLoginModal=!0)},G),s("view",J,[s("text",K,x(a.value.username||"未登录"),1)])]),O])]),s("view",Q,[s("view",X,[s("view",Y,[s("view",Z,[ss,s("view",es,[s("text",ts,x(u.value.computePower||0),1),s("view",{class:"power-refresh",onClick:f},cs)])])])])]),s("view",{class:"menu-section"},[is,s("view",{class:"menu-grid"},[s("view",{class:"menu-item",onClick:y},as),s("view",{class:"menu-item",onClick:b},ds),s("view",{class:"menu-item",onClick:k},us),s("view",{class:"menu-item",onClick:I},gs),s("view",{class:"menu-item",onClick:z},Cs)])]),s("view",{class:"logout-button",onClick:S},bs)]),r.value?(v(),w("view",ks,[s("view",{class:"modal-mask",onClick:d}),s("view",zs,[s("view",{class:"modal-header"},[ys,s("view",{class:"modal-close",onClick:d},Is)]),s("view",Bs,[s("view",Ss,[Vs,H(s("input",{"onUpdate:modelValue":t[1]||(t[1]=g=>l.value=g),type:"text",placeholder:"请输入卡密",class:"input"},null,512),[[L,l.value]])]),s("view",{class:"recharge-button",onClick:M},Hs)])])])):m("",!0),h.value?(v(),w("view",Ls,[s("view",{class:"modal-mask",onClick:p}),s("view",{class:"modal-content"},[s("view",{class:"modal-header"},[Ps,s("view",{class:"modal-close",onClick:p},As)]),s("view",{class:"modal-body"},[Ds,s("view",{class:"copy-button",onClick:B},Ns)])])])):m("",!0)]))}},js=V(Es,[["__scopeId","data-v-93ce1518"]]);export{js as default};
